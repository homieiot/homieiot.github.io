<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="shortcut icon" href="/img/homie-logo.png">
  <link rel="canonical" href="https://homieiot.github.io/specification/spec-core-v4_0_0-diff/">
  <title>The Homie convention</title>
  <link href="https://homieiot.github.io/scss/all.min.css" rel="stylesheet">


    <script type='text/javascript' src="https://homieiot.github.io/js/main.min.js"></script>

  <link rel="prefetch" href="/specification/">
  <link rel="prefetch" href="/implementations/">
  <link rel="prefetch" href="/extensions/">
  <link rel="prefetch" href="/get_involved/">
  <link rel="prefetch" href="/license/">

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/js/sw.js')
      .catch(function(error) {
        console.log('Registration failed with ' + error);
      });
    }
  </script>
</head>

<body>
    <div class="progress d-print-none"></div>
    <header class="text-center" style="margin-top:20px">
    <a href="https://github.com/homieiot/convention" title="homieiot/convention" class="md-source d-print-none" data-md-source="github">
      <div class="md-source__icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 416 448" id="__github">
          <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
                8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
                18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
                19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
                18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
                304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
                2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
                38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
                37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
                82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
                1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
                0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
                30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
                46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
                99.5z"></path>
        </svg>
      </div>
      <div class="md-source__repository">
        homieiot/convention
        <div id="repofacts" class="md-source__facts"></div>
      </div>
    </a>
    <script>
      const el = document.getElementById("repofacts");
      var stargazers_count = sessionStorage.getItem('stargazers_count');
      var forks_count = sessionStorage.getItem('forks_count');
      if (stargazers_count !== null) {
        el.innerText = stargazers_count + " Stars · " + forks_count + " Forks"
      } else {
        const url = "https://api.github.com/repos/homieiot\/convention"
        fetch(url).then(response => response.json()).then(data => {
          if (!(data instanceof Object))
            throw new TypeError
          sessionStorage.setItem('stargazers_count', data.stargazers_count);
          sessionStorage.setItem('forks_count', data.forks_count);
          el.innerText = data.stargazers_count + " Stars · " + data.forks_count + " Forks"
        })
      }
    </script>

    <nav id="mainmenu" class="btn-group d-print-none" role="group" aria-label="Basic example">
      <a href="https://homieiot.github.io/" role="button" class="btn btn-main "
        title="">Overview</a>
      <a href="https://homieiot.github.io/specification/" role="button" class="btn btn-main "
        title="">Specification</a>
      <a href="https://homieiot.github.io/extensions/" role="button" class="btn btn-main "
        title="">Extensions</a>
      <a href="https://homieiot.github.io/implementations/" role="button" class="btn btn-main "
        title="">Implementations</a>
      <a href="https://homieiot.github.io/get_involved/" role="button" class="btn btn-main "
        title="">Get involved</a>
      <a href="https://homieiot.github.io/tools/" role="button" class="btn btn-main "
        title="">Tools</a>
    </nav>
  </header>
  
<div class="container mt-2" id="mainContent">
<div class="row">
<div class="col-12">
    <h1 class="animated fadeIn" style="text-align: center; margin-top:40px; font-size:4em;">
        Changes
    </h1>
    <center class="animated fadeIn mb-4">Changes from
        <a href='/specification/spec-core-v3_0_1/'>v3.0.1</a> to
        <a href='/specification/spec-core-v4_0_0/'>v4.0.0</a></center>

    <h2>Commits</h2>

    
    
    <!-- raw HTML omitted -->
    

    <h2>Differences</h2>

    
    <table class="diff" id="difflib_chg_to4__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">v3.0.1</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">v4.0.0</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__0"><a href="#difflib_chg_to4__1">n</a></td><td class="diff_header" id="from4_2">2</td><td >path: https://github.com/homieiot/convention/tree/v<span class="diff_chg">3</span>.0.<span class="diff_chg">1</span></td><td class="diff_next"><a href="#difflib_chg_to4__1">n</a></td><td class="diff_header" id="to4_2">2</td><td >path: https://github.com/homieiot/convention/tree/v<span class="diff_chg">4</span>.0.<span class="diff_chg">0</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_3">3</td><td ><span class="diff_sub">source: README.md</span></td><td class="diff_next"></td><td class="diff_header" id="to4_3">3</td><td ><span class="diff_add">source: convention.md</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_4">4</td><td >version: v<span class="diff_chg">3</span>.0.<span class="diff_chg">1</span></td><td class="diff_next"></td><td class="diff_header" id="to4_4">4</td><td >version: v<span class="diff_chg">4</span>.0.<span class="diff_chg">0</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_5">5</td><td ><span class="diff_sub">releasedate: 27. October 2018</span></td><td class="diff_next"></td><td class="diff_header" id="to4_5">5</td><td ><span class="diff_add">releasedate: 18. July 2019</span></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__1"><a href="#difflib_chg_to4__2">n</a></td><td class="diff_header" id="from4_19">19</td><td ><span class="diff_sub"> </span></td><td class="diff_next"><a href="#difflib_chg_to4__2">n</a></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_20">20</td><td ><span class="diff_sub">Nodes can be **arrays**.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_21">21</td><td ><span class="diff_sub">For example, instead of creating two `lights` node to control front lights and back lights independently, we can set the `lights` node to be an array with two elements.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__2"><a href="#difflib_chg_to4__3">n</a></td><td class="diff_header" id="from4_30">30</td><td ><span class="diff_sub">Properties can be **settable**.</span></td><td class="diff_next"><a href="#difflib_chg_to4__3">n</a></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_31">31</td><td ><span class="diff_sub">For example, you don't want your `temperature` property to be settable in case of a temperature sensor (like the car example), but to be settable in case of a thermostat.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_32">32</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_33">33</td><td ><span class="diff_sub">Properties can be **retained**.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_34">34</td><td ><span class="diff_sub">A property is retained by default. A non-retained property would be useful for momentary events (door bell pressed).</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_35">35</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_36">36</td><td ><span class="diff_sub">A combination of those flags compiles into this list:</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_37">37</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_38">38</td><td ><span class="diff_sub">* **retained + non-settable**: The node publishes a property state (temperature sensor)</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_39">39</td><td ><span class="diff_sub">* **retained + settable**: The node publishes a property state, and can receive commands for the property (by controller or other party) (lamp power)</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_40">40</td><td ><span class="diff_sub">* **non-retained + non-settable**: The node publishes momentary events (door bell pressed)</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_41">41</td><td ><span class="diff_sub">* **non-retained + settable**: The node publishes momentary events, and can receive commands for the property (by controller or other party) (brew coffee)</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_42">42</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__3"><a href="#difflib_chg_to4__4">n</a></td><td class="diff_header" id="from4_50">50</td><td ><span class="diff_sub">----</span></td><td class="diff_next"><a href="#difflib_chg_to4__4">n</a></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_51">51</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_52">52</td><td ><span class="diff_sub">### Base Topic</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_53">53</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_54">54</td><td ><span class="diff_sub">The base topic you will see in the following convention will be `homie/`.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_55">55</td><td ><span class="diff_sub">If this base topic does not suit your needs (in case of, e.g., a public broker), you can choose another.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_56">56</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_57">57</td><td ><span class="diff_sub">Be aware, that only the default base topic `homie/` is eligible for automatic discovery by third party controllers.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_58">58</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_59">59</td><td ><span class="diff_sub">----</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_60">60</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__4"><a href="#difflib_chg_to4__5">n</a></td><td class="diff_header" id="from4_69">69</td><td ><span class="diff_sub">When the MQTT connection to the broker is established or re-established, the device MUST send its attributes to the broker immediately.</span></td><td class="diff_next"><a href="#difflib_chg_to4__5">n</a></td><td class="diff_header"></td><td ></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__5"><a href="#difflib_chg_to4__6">n</a></td><td class="diff_header" id="from4_71">71</td><td ><span class="diff_sub">&lt;table&gt;</span></td><td class="diff_next"><a href="#difflib_chg_to4__6">n</a></td><td class="diff_header" id="to4_43">43</td><td ><span class="diff_add">The following device attributes are mandatory and MUST be send, even if it is just an empty string.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_72">72</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_73">73</td><td ><span class="diff_sub">    &lt;th&gt;Topic&lt;/th&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_74">74</td><td ><span class="diff_sub">    &lt;th&gt;Direction&lt;/th&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_75">75</td><td ><span class="diff_sub">    &lt;th&gt;Description&lt;/th&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_76">76</td><td ><span class="diff_sub">    &lt;th&gt;Retained&lt;/th&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_77">77</td><td ><span class="diff_sub">    &lt;th&gt;Required&lt;/th&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_78">78</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_79">79</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_80">80</td><td ><span class="diff_sub">    &lt;td&gt;$homie&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_81">81</td><td ><span class="diff_sub">    &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_82">82</td><td ><span class="diff_sub">    &lt;td&gt;Version of the Homie convention the device conforms to&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_83">83</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_84">84</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_85">85</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_86">86</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_87">87</td><td ><span class="diff_sub">    &lt;td&gt;$name&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_88">88</td><td ><span class="diff_sub">    &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_89">89</td><td ><span class="diff_sub">    &lt;td&gt;Friendly name of the device&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_90">90</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_91">91</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_92">92</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_93">93</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_94">94</td><td ><span class="diff_sub">    &lt;td&gt;$state&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_95">95</td><td ><span class="diff_sub">    &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_96">96</td><td ><span class="diff_sub">    &lt;td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_97">97</td><td ><span class="diff_sub">      See &lt;a href="#device-behavior"&gt;Device behavior&lt;/a&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_98">98</td><td ><span class="diff_sub">    &lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_99">99</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_100">100</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_101">101</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_102">102</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_103">103</td><td ><span class="diff_sub">    &lt;td&gt;$localip&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_104">104</td><td ><span class="diff_sub">    &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_105">105</td><td ><span class="diff_sub">    &lt;td&gt;IP of the device on the local network&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_106">106</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_107">107</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_108">108</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_109">109</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_110">110</td><td ><span class="diff_sub">    &lt;td&gt;$mac&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_111">111</td><td ><span class="diff_sub">    &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_112">112</td><td ><span class="diff_sub">    &lt;td&gt;Mac address of the device network interface. The format MUST be of the type &lt;code&gt;A1:B2:C3:D4:E5:F6&lt;/code&gt;&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_113">113</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_114">114</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_115">115</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_116">116</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_117">117</td><td ><span class="diff_sub">    &lt;td&gt;$fw/name&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_118">118</td><td ><span class="diff_sub">    &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_119">119</td><td ><span class="diff_sub">    &lt;td&gt;Name of the firmware running on the device. Allowed characters are the same as the device ID&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_120">120</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_121">121</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_122">122</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_123">123</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_124">124</td><td ><span class="diff_sub">    &lt;td&gt;$fw/version&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_125">125</td><td ><span class="diff_sub">    &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_126">126</td><td ><span class="diff_sub">    &lt;td&gt;Version of the firmware running on the device&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_127">127</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_128">128</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_129">129</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_130">130</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_131">131</td><td ><span class="diff_sub">    &lt;td&gt;$nodes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_132">132</td><td ><span class="diff_sub">    &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_133">133</td><td ><span class="diff_sub">    &lt;td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_134">134</td><td ><span class="diff_sub">      Nodes the device exposes, with format &lt;code&gt;id&lt;/code&gt; separated by a &lt;code&gt;,&lt;/code&gt; if there are multiple nodes.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_135">135</td><td ><span class="diff_sub">      To make a node an array, append &lt;code&gt;[]&lt;/code&gt; to the ID.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_136">136</td><td ><span class="diff_sub">    &lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_137">137</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_138">138</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_139">139</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_140">140</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_141">141</td><td ><span class="diff_sub">    &lt;td&gt;$implementation&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_142">142</td><td ><span class="diff_sub">    &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_143">143</td><td ><span class="diff_sub">    &lt;td&gt;An identifier for the Homie implementation (example &lt;code&gt;esp8266&lt;/code&gt;)&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_144">144</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_145">145</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_146">146</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_147">147</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_148">148</td><td ><span class="diff_sub">    &lt;td&gt;$implementation/#&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_149">149</td><td ><span class="diff_sub">    &lt;td&gt;Controller → Device or Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_150">150</td><td ><span class="diff_sub">    &lt;td&gt;You can use any subtopics of &lt;code&gt;$implementation&lt;/code&gt; for anything related to your specific Homie implementation.&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_151">151</td><td ><span class="diff_sub">    &lt;td&gt;Yes or No, depending of your implementation&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_152">152</td><td ><span class="diff_sub">    &lt;td&gt;No&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_153">153</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_154">154</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_155">155</td><td ><span class="diff_sub">    &lt;td&gt;$stats&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_156">156</td><td ><span class="diff_sub">    &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_157">157</td><td ><span class="diff_sub">    &lt;td&gt;Specify all optional stats that the device will announce, with format &lt;code&gt;stats&lt;/code&gt; separated by a &lt;code&gt;,&lt;/code&gt; if there are multiple stats. See next section for an example&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_158">158</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_159">159</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_160">160</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_161">161</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_162">162</td><td ><span class="diff_sub">    &lt;td&gt;$stats/interval&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_163">163</td><td ><span class="diff_sub">    &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_164">164</td><td ><span class="diff_sub">    &lt;td&gt;Interval in seconds at which the device refreshes its &lt;code&gt;$stats/+&lt;/code&gt;: See next section for details about statistical attributes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_165">165</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_166">166</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_167">167</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_168">168</td><td ><span class="diff_sub">&lt;/table&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__6"><a href="#difflib_chg_to4__7">n</a></td><td class="diff_header"></td><td ></td><td class="diff_next"><a href="#difflib_chg_to4__7">n</a></td><td class="diff_header" id="to4_45">45</td><td ><span class="diff_add">| Topic       |                                                    Description            |</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_46">46</td><td ><span class="diff_add">|-------------|--------------------------------------------------------------------------:|</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_47">47</td><td ><span class="diff_add">| $homie      | The implemented Homie convention version                                  |</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_48">48</td><td ><span class="diff_add">| $name       | Friendly name of the device                                               |</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_49">49</td><td ><span class="diff_add">| $state      | See [Device Lifecycle](#device-lifecycle)                                   |</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_50">50</td><td ><span class="diff_add">| $nodes      | [Nodes](#nodes) the device exposes, separated by `,` for multiple ones.   |</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_51">51</td><td ><span class="diff_add">| $extensions | Supported extensions, separated by `,` for multiple ones.                 |</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_52">52</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_53">53</td><td ><span class="diff_add">Optional topics include:</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_54">54</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_55">55</td><td ><span class="diff_add">| Topic           | Description                   |</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_56">56</td><td ><span class="diff_add">|-----------------|-------------------------------|</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_57">57</td><td ><span class="diff_add">| $implementation | An identifier for the Homie implementation (example "esp8266")                     |</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_58">58</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_170">170</td><td >For example, a device with an ID of `super-car` that comprises of<span class="diff_sub">f</span> a `wheels`, `engine` and a `lights` node would send:</td><td class="diff_next"></td><td class="diff_header" id="to4_59">59</td><td >For example, a device with an ID of `super-car` that comprises of a `wheels`, `engine` and a `lights` node would send:</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__7"><a href="#difflib_chg_to4__8">n</a></td><td class="diff_header" id="from4_175">175</td><td ><span class="diff_sub">homie/super-car/$localip → "192.168.0.10"</span></td><td class="diff_next"><a href="#difflib_chg_to4__8">n</a></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_176">176</td><td ><span class="diff_sub">homie/super-car/$mac → "DE:AD:BE:EF:FE:ED"</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_177">177</td><td ><span class="diff_sub">homie/super-car/$fw/name → "weatherstation-firmware"</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_178">178</td><td ><span class="diff_sub">homie/super-car/$fw/version → "1.0.0"</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__8"><a href="#difflib_chg_to4__9">n</a></td><td class="diff_header" id="from4_181">181</td><td ><span class="diff_sub">homie/super-car/$stats/interval → "60"</span></td><td class="diff_next"><a href="#difflib_chg_to4__9">n</a></td><td class="diff_header"></td><td ></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__9"><a href="#difflib_chg_to4__10">n</a></td><td class="diff_header" id="from4_185">185</td><td ><span class="diff_sub">#### Device Behavior</span></td><td class="diff_next"><a href="#difflib_chg_to4__10">n</a></td><td class="diff_header" id="to4_69">69</td><td ><span class="diff_add">#### Device Lifecycle</span></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__10"><a href="#difflib_chg_to4__11">n</a></td><td class="diff_header" id="from4_187">187</td><td >The `$state` device attribute represents<span class="diff_sub">, as</span> the<span class="diff_sub"> name suggests, the</span> current state of the device.</td><td class="diff_next"><a href="#difflib_chg_to4__11">n</a></td><td class="diff_header" id="to4_71">71</td><td >The `$state` device attribute represents the current state of the device.</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__11"><a href="#difflib_chg_to4__12">n</a></td><td class="diff_header" id="from4_191">191</td><td ><span class="diff_sub">This is the first message that must that must be sent.</span></td><td class="diff_next"><a href="#difflib_chg_to4__12">n</a></td><td class="diff_header" id="to4_75">75</td><td ><span class="diff_add">This state is optional, and may be sent if the device takes a long time to initialize, but wishes to announce to consumers that it is coming online. </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_192">192</td><td >* **`ready`**: this is the state the device is in when it is connected to the MQTT broker, has sent all Homie messages and is ready to operate.</td><td class="diff_next"></td><td class="diff_header" id="to4_76">76</td><td >* **`ready`**: this is the state the device is in when it is connected to the MQTT broker, has sent all Homie messages and is ready to operate.<span class="diff_add"> A Homie Controller can assume default values for all optional topics.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_193">193</td><td ><span class="diff_sub">You have to send this message after all other announcements message have been sent.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__12"><a href="#difflib_chg_to4__13">n</a></td><td class="diff_header" id="from4_203">203</td><td ><span class="diff_sub">#### Device Statistics</span></td><td class="diff_next"><a href="#difflib_chg_to4__13">n</a></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_204">204</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_205">205</td><td ><span class="diff_sub">* `homie` / `device ID` / `$stats`/ **`$device-statistic-attribute`**:</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_206">206</td><td ><span class="diff_sub">The `$stats/` hierarchy allows to send device attributes that change over time. The device MUST send them every `$stats/interval` seconds.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_207">207</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_208">208</td><td ><span class="diff_sub">&lt;table&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_209">209</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_210">210</td><td ><span class="diff_sub">    &lt;th&gt;Topic&lt;/th&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_211">211</td><td ><span class="diff_sub">    &lt;th&gt;Direction&lt;/th&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_212">212</td><td ><span class="diff_sub">    &lt;th&gt;Description&lt;/th&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_213">213</td><td ><span class="diff_sub">    &lt;th&gt;Retained&lt;/th&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_214">214</td><td ><span class="diff_sub">    &lt;th&gt;Required&lt;/th&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_215">215</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_216">216</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_217">217</td><td ><span class="diff_sub">    &lt;td&gt;$stats/uptime&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_218">218</td><td ><span class="diff_sub">    &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_219">219</td><td ><span class="diff_sub">    &lt;td&gt;Time elapsed in seconds since the boot of the device&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_220">220</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_221">221</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_222">222</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_223">223</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_224">224</td><td ><span class="diff_sub">    &lt;td&gt;$stats/signal&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_225">225</td><td ><span class="diff_sub">    &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_226">226</td><td ><span class="diff_sub">    &lt;td&gt;Signal strength in %&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_227">227</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_228">228</td><td ><span class="diff_sub">    &lt;td&gt;No&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_229">229</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_230">230</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_231">231</td><td ><span class="diff_sub">    &lt;td&gt;$stats/cputemp&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_232">232</td><td ><span class="diff_sub">    &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_233">233</td><td ><span class="diff_sub">    &lt;td&gt;CPU Temperature in °C&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_234">234</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_235">235</td><td ><span class="diff_sub">    &lt;td&gt;No&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_236">236</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_237">237</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_238">238</td><td ><span class="diff_sub">    &lt;td&gt;$stats/cpuload&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_239">239</td><td ><span class="diff_sub">    &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_240">240</td><td ><span class="diff_sub">    &lt;td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_241">241</td><td ><span class="diff_sub">      CPU Load in %.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_242">242</td><td ><span class="diff_sub">      Average of last &lt;code&gt;$interval&lt;/code&gt; including all CPUs</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_243">243</td><td ><span class="diff_sub">    &lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_244">244</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_245">245</td><td ><span class="diff_sub">    &lt;td&gt;No&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_246">246</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_247">247</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_248">248</td><td ><span class="diff_sub">    &lt;td&gt;$stats/battery&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_249">249</td><td ><span class="diff_sub">    &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_250">250</td><td ><span class="diff_sub">    &lt;td&gt;Battery level in %&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_251">251</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_252">252</td><td ><span class="diff_sub">    &lt;td&gt;No&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_253">253</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_254">254</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_255">255</td><td ><span class="diff_sub">    &lt;td&gt;$stats/freeheap&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_256">256</td><td ><span class="diff_sub">    &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_257">257</td><td ><span class="diff_sub">    &lt;td&gt;Free heap in bytes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_258">258</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_259">259</td><td ><span class="diff_sub">    &lt;td&gt;No&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_260">260</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_261">261</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_262">262</td><td ><span class="diff_sub">    &lt;td&gt;$stats/supply&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_263">263</td><td ><span class="diff_sub">    &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_264">264</td><td ><span class="diff_sub">    &lt;td&gt;Supply Voltage in V&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_265">265</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_266">266</td><td ><span class="diff_sub">    &lt;td&gt;No&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_267">267</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_268">268</td><td ><span class="diff_sub">&lt;/table&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_269">269</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_270">270</td><td ><span class="diff_sub">For example, our `super-car` device with `$stats/interval` value "60" is supposed to send its current values every 60 seconds:</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_271">271</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_272">272</td><td ><span class="diff_sub">```java</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_273">273</td><td ><span class="diff_sub">homie/super-car/$stats → "uptime,cputemp,signal,battery"</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_274">274</td><td ><span class="diff_sub">homie/super-car/$stats/uptime → "120"</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_275">275</td><td ><span class="diff_sub">homie/super-car/$stats/cputemp → "48"</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_276">276</td><td ><span class="diff_sub">homie/super-car/$stats/signal → "24"</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_277">277</td><td ><span class="diff_sub">homie/super-car/$stats/battery → "80"</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_278">278</td><td ><span class="diff_sub">```</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_279">279</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_280">280</td><td ><span class="diff_sub">----</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_281">281</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__13"><a href="#difflib_chg_to4__14">n</a></td><td class="diff_header" id="from4_290">290</td><td ><span class="diff_sub">A node attribute MUST be one of these:</span></td><td class="diff_next"><a href="#difflib_chg_to4__14">n</a></td><td class="diff_header"></td><td ></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__14"><a href="#difflib_chg_to4__15">n</a></td><td class="diff_header" id="from4_292">292</td><td ><span class="diff_sub">&lt;table&gt;</span></td><td class="diff_next"><a href="#difflib_chg_to4__15">n</a></td><td class="diff_header" id="to4_95">95</td><td ><span class="diff_add">All listed attributes are **required**. A node attribute MUST be one of these:</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_293">293</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header" id="to4_96">96</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_294">294</td><td ><span class="diff_sub">    &lt;th&gt;Topic&lt;/th&gt;</span></td><td class="diff_next"></td><td class="diff_header" id="to4_97">97</td><td ><span class="diff_add">| Topic       | Description                                                                               |</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_295">295</td><td ><span class="diff_sub">    &lt;th&gt;Direction&lt;/th&gt;</span></td><td class="diff_next"></td><td class="diff_header" id="to4_98">98</td><td ><span class="diff_add">|-------------|-------------------------------------------------------------------------------------------|</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_296">296</td><td ><span class="diff_sub">    &lt;th&gt;Description&lt;/th&gt;</span></td><td class="diff_next"></td><td class="diff_header" id="to4_99">99</td><td ><span class="diff_add">| $name       | Friendly name of the Node                                                                 |</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_297">297</td><td ><span class="diff_sub">    &lt;th&gt;Retained&lt;/th&gt;</span></td><td class="diff_next"></td><td class="diff_header" id="to4_100">100</td><td ><span class="diff_add">| $type       | Type of the node                                                                          |</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_298">298</td><td ><span class="diff_sub">    &lt;th&gt;Required&lt;/th&gt;</span></td><td class="diff_next"></td><td class="diff_header" id="to4_101">101</td><td ><span class="diff_add">| $properties | Exposed properties, separated by `,` for multiple ones.                                   |</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_299">299</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_300">300</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_301">301</td><td ><span class="diff_sub">    &lt;td&gt;$name&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_302">302</td><td ><span class="diff_sub">    &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_303">303</td><td ><span class="diff_sub">    &lt;td&gt;Friendly name of the Node&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_304">304</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_305">305</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_306">306</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_307">307</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_308">308</td><td ><span class="diff_sub">    &lt;td&gt;$type&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_309">309</td><td ><span class="diff_sub">    &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_310">310</td><td ><span class="diff_sub">    &lt;td&gt;Type of the node&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_311">311</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_312">312</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_313">313</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_314">314</td><td ><span class="diff_sub">  &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_315">315</td><td ><span class="diff_sub">    &lt;td&gt;$properties&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_316">316</td><td ><span class="diff_sub">    &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_317">317</td><td ><span class="diff_sub">    &lt;td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_318">318</td><td ><span class="diff_sub">      Properties the node exposes, with format &lt;code&gt;id&lt;/code&gt; separated by a &lt;code&gt;,&lt;/code&gt; if there are multiple nodes.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_319">319</td><td ><span class="diff_sub">    &lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_320">320</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_321">321</td><td ><span class="diff_sub">    &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_322">322</td><td ><span class="diff_sub">  &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_323">323</td><td ><span class="diff_sub">    &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_324">324</td><td ><span class="diff_sub">       &lt;td&gt;$array&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_325">325</td><td ><span class="diff_sub">       &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_326">326</td><td ><span class="diff_sub">       &lt;td&gt;Range separated by a &lt;code&gt;-&lt;/code&gt;. e.g. &lt;code&gt;0-2&lt;/code&gt; for an array with the indexes &lt;code&gt;0&lt;/code&gt;, &lt;code&gt;1&lt;/code&gt; and &lt;code&gt;2&lt;/code&gt;&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_327">327</td><td ><span class="diff_sub">       &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_328">328</td><td ><span class="diff_sub">       &lt;td&gt;Yes, if the node is an array&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_329">329</td><td ><span class="diff_sub">    &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_330">330</td><td ><span class="diff_sub">&lt;/table&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__15"><a href="#difflib_chg_to4__16">n</a></td><td class="diff_header" id="from4_340">340</td><td ><span class="diff_sub">----</span></td><td class="diff_next"><a href="#difflib_chg_to4__16">n</a></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_341">341</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__16"><a href="#difflib_chg_to4__17">n</a></td><td class="diff_header" id="from4_347">347</td><td >* A property <span class="diff_chg">v</span>al<span class="diff_chg">ue</span> (e.g. a sensor reading) is directly published to the property topic, e.g.:</td><td class="diff_next"><a href="#difflib_chg_to4__17">n</a></td><td class="diff_header" id="to4_116">116</td><td >* A property <span class="diff_chg">p</span>a<span class="diff_add">y</span>l<span class="diff_chg">oad</span> (e.g. a sensor reading) is directly published to the property topic, e.g.:</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__17"><a href="#difflib_chg_to4__18">n</a></td><td class="diff_header"></td><td ></td><td class="diff_next"><a href="#difflib_chg_to4__18">n</a></td><td class="diff_header" id="to4_120">120</td><td ><span class="diff_add">  </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_121">121</td><td ><span class="diff_add">* Properties can be **settable**.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_122">122</td><td ><span class="diff_add">  For example, you don't want your `temperature` property to be settable in case of a temperature sensor</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_123">123</td><td ><span class="diff_add">  (like the car example), but to be settable in case of a thermostat.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_124">124</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_125">125</td><td ><span class="diff_add">* Properties can be **retained**.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_126">126</td><td ><span class="diff_add">  A property is retained by default. A non-retained property would be useful for momentary events (door bell pressed).</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_127">127</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_128">128</td><td ><span class="diff_add">A combination of those flags compiles into this list:</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_129">129</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_130">130</td><td ><span class="diff_add">* **retained + non-settable**: The node publishes a property state (temperature sensor)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_131">131</td><td ><span class="diff_add">* **retained + settable**: The node publishes a property state, and can receive commands for the property (by controller or other party) (lamp power)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_132">132</td><td ><span class="diff_add">* **non-retained + non-settable**: The node publishes momentary events (door bell pressed)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_133">133</td><td ><span class="diff_add">* **non-retained + settable**: The node publishes momentary events, and can receive commands for the property (by controller or other party) (brew coffee)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_134">134</td><td ><span class="diff_add"> </span></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__18"><a href="#difflib_chg_to4__19">n</a></td><td class="diff_header" id="from4_355">355</td><td ><span class="diff_sub">A property attribute MUST be one of these:</span></td><td class="diff_next"><a href="#difflib_chg_to4__19">n</a></td><td class="diff_header"></td><td ></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__19"><a href="#difflib_chg_to4__20">n</a></td><td class="diff_header" id="from4_357">357</td><td ><span class="diff_sub">&lt;table&gt;</span></td><td class="diff_next"><a href="#difflib_chg_to4__20">n</a></td><td class="diff_header" id="to4_140">140</td><td ><span class="diff_add">The following attributes are required:</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_358">358</td><td ><span class="diff_sub">    &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header" id="to4_141">141</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_359">359</td><td ><span class="diff_sub">        &lt;th&gt;Topic&lt;/th&gt;</span></td><td class="diff_next"></td><td class="diff_header" id="to4_142">142</td><td ><span class="diff_add">| Topic     | Description                                          | Payload type                                |</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_360">360</td><td ><span class="diff_sub">        &lt;th&gt;Direction&lt;/th&gt;</span></td><td class="diff_next"></td><td class="diff_header" id="to4_143">143</td><td ><span class="diff_add">|-----------|------------------------------------------------------|---------------------------------------------|</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_361">361</td><td ><span class="diff_sub">        &lt;th&gt;Description&lt;/th&gt;</span></td><td class="diff_next"></td><td class="diff_header" id="to4_144">144</td><td ><span class="diff_add">| $name     | Friendly name of the property.                       | String                                  |</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_362">362</td><td ><span class="diff_sub">        &lt;th&gt;Valid values&lt;/th&gt;</span></td><td class="diff_next"></td><td class="diff_header" id="to4_145">145</td><td ><span class="diff_add">| $datatype | The data type. See [Payloads](#payloads).            | Enum: \[integer, float, boolean,string, enum, color\] |</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_363">363</td><td ><span class="diff_sub">        &lt;th&gt;Retained&lt;/th&gt;</span></td><td class="diff_next"></td><td class="diff_header" id="to4_146">146</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_364">364</td><td ><span class="diff_sub">        &lt;th&gt;Required (Default)&lt;/th&gt;</span></td><td class="diff_next"></td><td class="diff_header" id="to4_147">147</td><td ><span class="diff_add">The following attributes are optional:</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_365">365</td><td ><span class="diff_sub">    &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header" id="to4_148">148</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_366">366</td><td ><span class="diff_sub">    &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header" id="to4_149">149</td><td ><span class="diff_add">| Topic     | Description                                          |  Payload type                                |</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_367">367</td><td ><span class="diff_sub">       &lt;td&gt;$name&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header" id="to4_150">150</td><td ><span class="diff_add">|-----------|------------------------------------------------------|---------------------------------------------|</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_368">368</td><td ><span class="diff_sub">       &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header" id="to4_151">151</td><td ><span class="diff_add">| $format   | Specifies restrictions or options for the given data type | See below                                 |</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_369">369</td><td ><span class="diff_sub">       &lt;td&gt;Friendly name of the property.&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header" id="to4_152">152</td><td ><span class="diff_add">| $settable     | Settable (&lt;code&gt;true&lt;/code&gt;). Default is read-only (&lt;code&gt;false&lt;/code&gt;)  | Boolean     |</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_370">370</td><td ><span class="diff_sub">       &lt;td&gt;Any String&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header" id="to4_153">153</td><td ><span class="diff_add">| $retained     | Non-retained (&lt;code&gt;false&lt;/code&gt;). Default is Retained (&lt;code&gt;true&lt;/code&gt;).  | Boolean     |</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_371">371</td><td ><span class="diff_sub">       &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header" id="to4_154">154</td><td ><span class="diff_add">| $unit     | Optional unit of this property. See list below.  | String     |</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_372">372</td><td ><span class="diff_sub">       &lt;td&gt;No ("")&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_373">373</td><td ><span class="diff_sub">    &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_374">374</td><td ><span class="diff_sub">    &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_375">375</td><td ><span class="diff_sub">        &lt;td&gt;$settable&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_376">376</td><td ><span class="diff_sub">        &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_377">377</td><td ><span class="diff_sub">        &lt;td&gt;Specifies whether the property is settable (&lt;code&gt;true&lt;/code&gt;) or readonly (&lt;code&gt;false&lt;/code&gt;)&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_378">378</td><td ><span class="diff_sub">        &lt;td&gt;&lt;code&gt;true&lt;/code&gt; or &lt;code&gt;false&lt;/code&gt;&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_379">379</td><td ><span class="diff_sub">        &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_380">380</td><td ><span class="diff_sub">        &lt;td&gt;No (&lt;code&gt;false&lt;/code&gt;)&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_381">381</td><td ><span class="diff_sub">    &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_382">382</td><td ><span class="diff_sub">    &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_383">383</td><td ><span class="diff_sub">        &lt;td&gt;$retained&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_384">384</td><td ><span class="diff_sub">        &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_385">385</td><td ><span class="diff_sub">        &lt;td&gt;Specifies whether the property is retained (&lt;code&gt;true&lt;/code&gt;) or non-retained (&lt;code&gt;false&lt;/code&gt;). Publishing to a non-retained property topic MUST always happen with the MQTT 'retain' flag off.&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_386">386</td><td ><span class="diff_sub">        &lt;td&gt;&lt;code&gt;true&lt;/code&gt; or &lt;code&gt;false&lt;/code&gt;&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_387">387</td><td ><span class="diff_sub">        &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_388">388</td><td ><span class="diff_sub">        &lt;td&gt;No (&lt;code&gt;true&lt;/code&gt;)&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_389">389</td><td ><span class="diff_sub">    &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_390">390</td><td ><span class="diff_sub">    &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_391">391</td><td ><span class="diff_sub">        &lt;td&gt;$unit&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_392">392</td><td ><span class="diff_sub">        &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_393">393</td><td ><span class="diff_sub">        &lt;td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_394">394</td><td ><span class="diff_sub">          A string containing the unit of this property.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_395">395</td><td ><span class="diff_sub">          You are not limited to the recommended values, although they are the only well known ones that will have to be recognized by any Homie consumer.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_396">396</td><td ><span class="diff_sub">        &lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_397">397</td><td ><span class="diff_sub">        &lt;td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_398">398</td><td ><span class="diff_sub">            Recommended:&lt;br&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_399">399</td><td ><span class="diff_sub">            &lt;code&gt;°C&lt;/code&gt; Degree Celsius&lt;br&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_400">400</td><td ><span class="diff_sub">            &lt;code&gt;°F&lt;/code&gt; Degree Fahrenheit&lt;br&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_401">401</td><td ><span class="diff_sub">            &lt;code&gt;°&lt;/code&gt; Degree&lt;br&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_402">402</td><td ><span class="diff_sub">            &lt;code&gt;L&lt;/code&gt; Liter&lt;br&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_403">403</td><td ><span class="diff_sub">            &lt;code&gt;gal&lt;/code&gt; Galon&lt;br&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_404">404</td><td ><span class="diff_sub">            &lt;code&gt;V&lt;/code&gt; Volts&lt;br&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_405">405</td><td ><span class="diff_sub">            &lt;code&gt;W&lt;/code&gt; Watt&lt;br&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_406">406</td><td ><span class="diff_sub">            &lt;code&gt;A&lt;/code&gt; Ampere&lt;br&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_407">407</td><td ><span class="diff_sub">            &lt;code&gt;%&lt;/code&gt; Percent&lt;br&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_408">408</td><td ><span class="diff_sub">            &lt;code&gt;m&lt;/code&gt; Meter&lt;br&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_409">409</td><td ><span class="diff_sub">            &lt;code&gt;ft&lt;/code&gt; Feet&lt;br&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_410">410</td><td ><span class="diff_sub">            &lt;code&gt;Pa&lt;/code&gt; Pascal&lt;br&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_411">411</td><td ><span class="diff_sub">            &lt;code&gt;psi&lt;/code&gt; PSI&lt;br&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_412">412</td><td ><span class="diff_sub">            &lt;code&gt;#&lt;/code&gt; Count or Amount</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_413">413</td><td ><span class="diff_sub">        &lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_414">414</td><td ><span class="diff_sub">        &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_415">415</td><td ><span class="diff_sub">        &lt;td&gt;No ("")&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_416">416</td><td ><span class="diff_sub">    &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_417">417</td><td ><span class="diff_sub">    &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_418">418</td><td ><span class="diff_sub">       &lt;td&gt;$datatype&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_419">419</td><td ><span class="diff_sub">       &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_420">420</td><td ><span class="diff_sub">       &lt;td&gt;Describes the format of data.&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_421">421</td><td ><span class="diff_sub">       &lt;td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_422">422</td><td ><span class="diff_sub">         &lt;code&gt;integer&lt;/code&gt;,</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_423">423</td><td ><span class="diff_sub">         &lt;code&gt;float&lt;/code&gt;,</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_424">424</td><td ><span class="diff_sub">         &lt;code&gt;boolean&lt;/code&gt;,</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_425">425</td><td ><span class="diff_sub">         &lt;code&gt;string&lt;/code&gt;,</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_426">426</td><td ><span class="diff_sub">         &lt;code&gt;enum&lt;/code&gt;,</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_427">427</td><td ><span class="diff_sub">         &lt;code&gt;color&lt;/code&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_428">428</td><td ><span class="diff_sub">       &lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_429">429</td><td ><span class="diff_sub">       &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_430">430</td><td ><span class="diff_sub">       &lt;td&gt;No (&lt;code&gt;string&lt;/code&gt;)&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_431">431</td><td ><span class="diff_sub">    &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_432">432</td><td ><span class="diff_sub">    &lt;tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_433">433</td><td ><span class="diff_sub">       &lt;td&gt;$format&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_434">434</td><td ><span class="diff_sub">       &lt;td&gt;Device → Controller&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_435">435</td><td ><span class="diff_sub">       &lt;td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_436">436</td><td ><span class="diff_sub">        Describes what are valid values for this property.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_437">437</td><td ><span class="diff_sub">       &lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_438">438</td><td ><span class="diff_sub">       &lt;td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_439">439</td><td ><span class="diff_sub">         &lt;ul&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_440">440</td><td ><span class="diff_sub">           &lt;li&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_441">441</td><td ><span class="diff_sub">             &lt;code&gt;from:to&lt;/code&gt; Describes a range of values e.g. &lt;code&gt;10:15&lt;/code&gt;.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_442">442</td><td ><span class="diff_sub">             &lt;br&gt;Valid for datatypes &lt;code&gt;integer&lt;/code&gt;, &lt;code&gt;float&lt;/code&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_443">443</td><td ><span class="diff_sub">           &lt;/li&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_444">444</td><td ><span class="diff_sub">           &lt;li&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_445">445</td><td ><span class="diff_sub">             &lt;code&gt;value,value,value&lt;/code&gt; for enumerating all valid values.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_446">446</td><td ><span class="diff_sub">             Escape &lt;code&gt;,&lt;/code&gt; by using &lt;code&gt;,,&lt;/code&gt;. e.g. &lt;code&gt;A,B,C&lt;/code&gt; or &lt;code&gt;ON,OFF,PAUSE&lt;/code&gt;.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_447">447</td><td ><span class="diff_sub">             &lt;br&gt;Valid for datatypes &lt;code&gt;enum&lt;/code&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_448">448</td><td ><span class="diff_sub">           &lt;/li&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_449">449</td><td ><span class="diff_sub">           &lt;li&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_450">450</td><td ><span class="diff_sub">             &lt;code&gt;rgb&lt;/code&gt; to provide colors in RGB format e.g. &lt;code&gt;255,255,0&lt;/code&gt; for yellow.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_451">451</td><td ><span class="diff_sub">             &lt;code&gt;hsv&lt;/code&gt; to provide colors in HSV format e.g. &lt;code&gt;60,100,100&lt;/code&gt; for yellow.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_452">452</td><td ><span class="diff_sub">             &lt;br&gt;Valid for datatype &lt;code&gt;color&lt;/code&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_453">453</td><td ><span class="diff_sub">           &lt;/li&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_454">454</td><td ><span class="diff_sub">         &lt;/ul&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_455">455</td><td ><span class="diff_sub">       &lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_456">456</td><td ><span class="diff_sub">       &lt;td&gt;Yes&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_457">457</td><td ><span class="diff_sub">       &lt;td&gt;No for $datatype &lt;code&gt;string&lt;/code&gt;,&lt;code&gt;integer&lt;/code&gt;,&lt;code&gt;float&lt;/code&gt;,&lt;code&gt;boolean&lt;/code&gt;. Yes for &lt;code&gt;enum&lt;/code&gt;,&lt;code&gt;color&lt;/code&gt;&lt;/td&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_458">458</td><td ><span class="diff_sub">    &lt;/tr&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_459">459</td><td ><span class="diff_sub">&lt;/table&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__20"><a href="#difflib_chg_to4__21">n</a></td><td class="diff_header"></td><td ></td><td class="diff_next"><a href="#difflib_chg_to4__21">n</a></td><td class="diff_header" id="to4_167">167</td><td ><span class="diff_add">Format:</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_168">168</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_169">169</td><td ><span class="diff_add">* For `integer` and `float`: Describes a range of payloads e.g. `10:15`</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_170">170</td><td ><span class="diff_add">* For `enum`: `payload,payload,payload` for enumerating all valid payloads.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_171">171</td><td ><span class="diff_add">* For `color`:</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_172">172</td><td ><span class="diff_add">  - `rgb` to provide colors in RGB format e.g. `255,255,0` for yellow.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_173">173</td><td ><span class="diff_add">  - `hsv` to provide colors in HSV format e.g. `60,100,100` for yellow.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_174">174</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_175">175</td><td ><span class="diff_add">Recommended unit strings:</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_176">176</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_177">177</td><td ><span class="diff_add">* `°C`: Degree Celsius</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_178">178</td><td ><span class="diff_add">* `°F`: Degree Fahrenheit</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_179">179</td><td ><span class="diff_add">* `°`: Degree</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_180">180</td><td ><span class="diff_add">* `L`: Liter</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_181">181</td><td ><span class="diff_add">* `gal`: Galon</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_182">182</td><td ><span class="diff_add">* `V`: Volts</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_183">183</td><td ><span class="diff_add">* `W`: Watt</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_184">184</td><td ><span class="diff_add">* `A`: Ampere</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_185">185</td><td ><span class="diff_add">* `%`: Percent</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_186">186</td><td ><span class="diff_add">* `m`: Meter</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_187">187</td><td ><span class="diff_add">* `ft`: Feet</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_188">188</td><td ><span class="diff_add">* `Pa`: Pascal</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_189">189</td><td ><span class="diff_add">* `psi`: PSI</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_190">190</td><td ><span class="diff_add">* `#`: Count or Amount</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_191">191</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_192">192</td><td ><span class="diff_add">You are not limited to the recommended values, although they are the only well known ones that will have to be recognized by any Homie consumer.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_193">193</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_194">194</td><td ><span class="diff_add">#### Property command topic</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_195">195</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_472">472</td><td >* `homie` / `device ID` / `node ID` / `property ID` / **`set`**: <span class="diff_chg">t</span>he device <span class="diff_chg">can</span> subscribe to this topic if the property is **settable** <span class="diff_chg">from the controller, </span>in case of actuators.</td><td class="diff_next"></td><td class="diff_header" id="to4_196">196</td><td >* `homie` / `device ID` / `node ID` / `property ID` / **`set`**: <span class="diff_chg">T</span>he device <span class="diff_chg">must</span> subscribe to this topic if the property is **settable** <span class="diff_chg">(</span>in case of actuators<span class="diff_add"> for example)</span>.</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__21"><a href="#difflib_chg_to4__22">n</a></td><td class="diff_header" id="from4_474">474</td><td ><span class="diff_sub">Homie is state-based.</span></td><td class="diff_next"><a href="#difflib_chg_to4__22">n</a></td><td class="diff_header" id="to4_198">198</td><td ><span class="diff_add">A Homie controller publishes to the `set` command topic with non-retained messages only.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_475">475</td><td ><span class="diff_sub">You don't tell your smartlight to `turn on`, but you tell it to put its `power` state to `on`.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_476">476</td><td ><span class="diff_sub">This especially fits well with MQTT, because of retained message.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__22"><a href="#difflib_chg_to4__23">n</a></td><td class="diff_header" id="from4_478">478</td><td ><span class="diff_sub">For example, a `kitchen-light` device exposing a `light` node would subscribe to `homie/kitchen-light/light/power/set` and it would receive:</span></td><td class="diff_next"><a href="#difflib_chg_to4__23">n</a></td><td class="diff_header" id="to4_200">200</td><td ><span class="diff_add">The assigned and processed payload must be reflected by the Homie device in the property topic `homie` / `device ID` / `node ID` / `property ID` as soon as possible.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_201">201</td><td ><span class="diff_add">This property state update not only informs other devices about the change but closes the control loop for the commanding controller, important for deterministic interaction with the client device.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_202">202</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to4_203">203</td><td ><span class="diff_add">To give an example: A `kitchen-light` device exposing the `light` node with a settable `power` property subscribes to the topic `homie/kitchen-light/light/power/set` for commands:</span></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__23"><a href="#difflib_chg_to4__24">n</a></td><td class="diff_header" id="from4_484">484</td><td ><span class="diff_sub">The device would then turn on the light, and update its `power` state.</span></td><td class="diff_next"><a href="#difflib_chg_to4__24">n</a></td><td class="diff_header" id="to4_209">209</td><td ><span class="diff_add">In response the device will turn on the light and upon success update its `power` property state accordingly:</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_485">485</td><td ><span class="diff_sub">This provides pessimistic feedback, which is important for home automation.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__24"><a href="#difflib_chg_to4__25">n</a></td><td class="diff_header" id="from4_490">490</td><td ><span class="diff_sub"> </span></td><td class="diff_next"><a href="#difflib_chg_to4__25">n</a></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_491">491</td><td ><span class="diff_sub">### Arrays</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_492">492</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_493">493</td><td ><span class="diff_sub">A node can be an array if you've added `[]` to its ID in the `$nodes` device attribute, and if its `$array` attribute is set to the range of the array.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_494">494</td><td ><span class="diff_sub">Let's consider we want to control independently the front lights and back lights of our `super-car`. Our `lights` node array would look like this. Note that the topic for an element of the array node is the name of the node followed by a `_` and the index getting updated:</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_495">495</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_496">496</td><td ><span class="diff_sub">```java</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_497">497</td><td ><span class="diff_sub">homie/super-car/$nodes → "lights[]"</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_498">498</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_499">499</td><td ><span class="diff_sub">homie/super-car/lights/$name → "Lights"</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_500">500</td><td ><span class="diff_sub">homie/super-car/lights/$properties → "intensity"</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_501">501</td><td ><span class="diff_sub">homie/super-car/lights/$array → "0-1"</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_502">502</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_503">503</td><td ><span class="diff_sub">homie/super-car/lights/intensity/$name → "Intensity"</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_504">504</td><td ><span class="diff_sub">homie/super-car/lights/intensity/$settable → "true"</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_505">505</td><td ><span class="diff_sub">homie/super-car/lights/intensity/$unit → "%"</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_506">506</td><td ><span class="diff_sub">homie/super-car/lights/intensity/$datatype → "integer"</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_507">507</td><td ><span class="diff_sub">homie/super-car/lights/intensity/$format → "0:100"</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_508">508</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_509">509</td><td ><span class="diff_sub">homie/super-car/lights_0/$name → "Back lights"</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_510">510</td><td ><span class="diff_sub">homie/super-car/lights_0/intensity → "0"</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_511">511</td><td ><span class="diff_sub">homie/super-car/lights_1/$name → "Front lights"</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_512">512</td><td ><span class="diff_sub">homie/super-car/lights_1/intensity → "100"</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_513">513</td><td ><span class="diff_sub">```</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_514">514</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_515">515</td><td ><span class="diff_sub">Note that you can name each element in your array individually ("Back lights", etc.).</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_516">516</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_517">517</td><td ><span class="diff_sub">----</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_518">518</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_519">519</td><td >##<span class="diff_sub">#</span> Broadcast Channel</td><td class="diff_next"></td><td class="diff_header" id="to4_214">214</td><td >## Broadcast Channel</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__25"><a href="#difflib_chg_to4__26">n</a></td><td class="diff_header" id="from4_521">521</td><td >Homie defines a broadcast channel, so a controller is able to broadcast a message to <span class="diff_chg">every</span> Homie devices:</td><td class="diff_next"><a href="#difflib_chg_to4__26">n</a></td><td class="diff_header" id="to4_216">216</td><td >Homie defines a broadcast channel, so a controller is able to broadcast a message to <span class="diff_chg">all</span> Homie devices:</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to4__26"><a href="#difflib_chg_to4__top">t</a></td><td class="diff_header" id="from4_535">535</td><td ><span class="diff_sub"> </span></td><td class="diff_next"><a href="#difflib_chg_to4__top">t</a></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_536">536</td><td ><span class="diff_sub">----</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from4_537">537</td><td ><span class="diff_sub">----</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
        </tbody>
    </table>
</div>
</div>
</div>


  
  <footer class="page-footer font-small blue pt-4">
      <div class="footer-copyright text-center py-3">© 2018-2020 -
      Made by IoT enthusiasts for IoT enthusiasts.
      </div>
  </footer>
  
</body>

</html>
