<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="shortcut icon" href="/img/homie-logo.png">
  <link rel="canonical" href="https://homieiot.github.io/specification/spec-core-develop-diff/">
  <title>The Homie convention</title>
  <link href="https://homieiot.github.io/scss/all.min.css" rel="stylesheet">


    <script type='text/javascript' src="https://homieiot.github.io/js/main.min.js"></script>

  <link rel="prefetch" href="/specification/">
  <link rel="prefetch" href="/implementations/">
  <link rel="prefetch" href="/extensions/">
  <link rel="prefetch" href="/get_involved/">
  <link rel="prefetch" href="/license/">

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/js/sw.js')
      .catch(function(error) {
        console.log('Registration failed with ' + error);
      });
    }
  </script>
</head>

<body>
    <div class="progress d-print-none"></div>
    <header class="text-center" style="margin-top:20px">
    <a href="https://github.com/homieiot/convention" title="homieiot/convention" class="md-source d-print-none" data-md-source="github">
      <div class="md-source__icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 416 448" id="__github">
          <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
                8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
                18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
                19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
                18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
                304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
                2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
                38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
                37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
                82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
                1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
                0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
                30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
                46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
                99.5z"></path>
        </svg>
      </div>
      <div class="md-source__repository">
        homieiot/convention
        <div id="repofacts" class="md-source__facts"></div>
      </div>
    </a>
    <script>
      const el = document.getElementById("repofacts");
      var stargazers_count = sessionStorage.getItem('stargazers_count');
      var forks_count = sessionStorage.getItem('forks_count');
      if (stargazers_count !== null) {
        el.innerText = stargazers_count + " Stars · " + forks_count + " Forks"
      } else {
        const url = "https://api.github.com/repos/homieiot\/convention"
        fetch(url).then(response => response.json()).then(data => {
          if (!(data instanceof Object))
            throw new TypeError
          sessionStorage.setItem('stargazers_count', data.stargazers_count);
          sessionStorage.setItem('forks_count', data.forks_count);
          el.innerText = data.stargazers_count + " Stars · " + data.forks_count + " Forks"
        })
      }
    </script>

    <nav id="mainmenu" class="btn-group d-print-none" role="group" aria-label="Basic example">
      <a href="https://homieiot.github.io/" role="button" class="btn btn-main "
        title="">Overview</a>
      <a href="https://homieiot.github.io/specification/" role="button" class="btn btn-main "
        title="">Specification</a>
      <a href="https://homieiot.github.io/extensions/" role="button" class="btn btn-main "
        title="">Extensions</a>
      <a href="https://homieiot.github.io/implementations/" role="button" class="btn btn-main "
        title="">Implementations</a>
      <a href="https://homieiot.github.io/get_involved/" role="button" class="btn btn-main "
        title="">Get involved</a>
      <a href="https://homieiot.github.io/tools/" role="button" class="btn btn-main "
        title="">Tools</a>
    </nav>
  </header>
  
<div class="container mt-2" id="mainContent">
<div class="row">
<div class="col-12">
    <h1 class="animated fadeIn" style="text-align: center; margin-top:40px; font-size:4em;">
        Changes
    </h1>
    <center class="animated fadeIn mb-4">Changes from
        <a href='/specification/spec-core-v4_0_0/'>v4.0.0</a> to
        <a href='/specification/spec-core-develop/'>develop</a></center>

    <h2>Commits</h2>

    
    
    <!-- raw HTML omitted -->
    

    <h2>Differences</h2>

    
    <table class="diff" id="difflib_chg_to5__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">v4.0.0</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">develop</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to5__0"><a href="#difflib_chg_to5__1">n</a></td><td class="diff_header" id="from5_2">2</td><td >path: https://github.com/homieiot/convention/tree/v<span class="diff_chg">4.0.0</span></td><td class="diff_next"><a href="#difflib_chg_to5__1">n</a></td><td class="diff_header" id="to5_2">2</td><td >path: https://github.com/homieiot/convention/tree/<span class="diff_add">de</span>v<span class="diff_chg">elop</span></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to5__1"><a href="#difflib_chg_to5__2">n</a></td><td class="diff_header" id="from5_4">4</td><td ><span class="diff_sub">version: v4.0.0</span></td><td class="diff_next"><a href="#difflib_chg_to5__2">n</a></td><td class="diff_header" id="to5_4">4</td><td ><span class="diff_add">version: develop</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_5">5</td><td >releasedate: <span class="diff_chg">1</span>8. Ju<span class="diff_chg">ly</span> 20<span class="diff_chg">19</span></td><td class="diff_next"></td><td class="diff_header" id="to5_5">5</td><td >releasedate: <span class="diff_chg">2</span>8. Ju<span class="diff_chg">ne</span> 20<span class="diff_chg">20</span></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to5__2"><a href="#difflib_chg_to5__3">n</a></td><td class="diff_header" id="from5_43">43</td><td >The following device attributes are mandatory and MUST be sen<span class="diff_chg">d</span>, even if it is just an empty string.</td><td class="diff_next"><a href="#difflib_chg_to5__3">n</a></td><td class="diff_header" id="to5_43">43</td><td >The following device attributes are mandatory and MUST be sen<span class="diff_chg">t</span>, even if it is just an empty string.</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to5__3"><a href="#difflib_chg_to5__4">n</a></td><td class="diff_header" id="from5_62">62</td><td >homie/super-car/$homie → "<span class="diff_chg">2</span>.<span class="diff_chg">1</span>.0"</td><td class="diff_next"><a href="#difflib_chg_to5__4">n</a></td><td class="diff_header" id="to5_62">62</td><td >homie/super-car/$homie → "<span class="diff_chg">4</span>.<span class="diff_chg">0</span>.0"</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to5__4"><a href="#difflib_chg_to5__5">n</a></td><td class="diff_header"></td><td ></td><td class="diff_next"><a href="#difflib_chg_to5__5">n</a></td><td class="diff_header" id="to5_64">64</td><td ><span class="diff_add">homie/super-car/$extensions → ""</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_64">64</td><td >homie/super-car/$nodes → "wheels,engine,lights<span class="diff_sub">[]</span>"</td><td class="diff_next"></td><td class="diff_header" id="to5_65">65</td><td >homie/super-car/$nodes → "wheels,engine,lights"</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to5__5"><a href="#difflib_chg_to5__6">n</a></td><td class="diff_header" id="from5_76">76</td><td ><span class="diff_sub">* **`ready`**: this is the state the device is in when it is connected to the MQTT broker, has sent all Homie messages and is ready to operate. A Homie Controller can assume default values for all optional topics.</span></td><td class="diff_next"><a href="#difflib_chg_to5__6">n</a></td><td class="diff_header" id="to5_77">77</td><td ><span class="diff_add">A device may fall back into this state to do some reconfiguration.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to5_78">78</td><td ><span class="diff_add">* **`ready`**: this is the state the device is in when it is connected to the MQTT broker and has sent all Homie messages for describing the device attributes, nodes, properties and their values. The device has subscribed to all appropriate `/set` topics and is ready to receive messages. </span></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to5__6"><a href="#difflib_chg_to5__7">n</a></td><td class="diff_header"></td><td ></td><td class="diff_next"><a href="#difflib_chg_to5__7">n</a></td><td class="diff_header" id="to5_88">88</td><td ><span class="diff_add">The following MQTT topics must remain unchanged when a device is in `ready`, `sleeping` or `alert` state:</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to5_89">89</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to5_90">90</td><td ><span class="diff_add">* Any device attributes except `$name` and `$state`</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to5_91">91</td><td ><span class="diff_add">* The `$properties` attribute of any node</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to5_92">92</td><td ><span class="diff_add">* Any attribute of any property except `$name`</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to5_93">93</td><td ><span class="diff_add"> </span></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to5__7"><a href="#difflib_chg_to5__8">n</a></td><td class="diff_header"></td><td ></td><td class="diff_next"><a href="#difflib_chg_to5__8">n</a></td><td class="diff_header" id="to5_135">135</td><td ><span class="diff_add">  Non-retained properties should be `/set` with a QoS of **At most once (0)** to ensure that events don't arrive late or multiple times.</span></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to5__8"><a href="#difflib_chg_to5__9">n</a></td><td class="diff_header" id="from5_145">145</td><td >| $datatype | The data type. See [Payloads](#payload<span class="diff_sub">s</span>).            | Enum: \[integer, float, boolean,string, enum, color\] |</td><td class="diff_next"><a href="#difflib_chg_to5__9">n</a></td><td class="diff_header" id="to5_154">154</td><td >| $datatype | The data type. See [Payloads](#payload).            | Enum: \[integer, float, boolean,string, enum, color<span class="diff_add">, datetime, duration</span>\] |</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to5__9"><a href="#difflib_chg_to5__top">t</a></td><td class="diff_header" id="from5_214">214</td><td ><span class="diff_sub">## Broadcast Channel</span></td><td class="diff_next"><a href="#difflib_chg_to5__top">t</a></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_215">215</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_216">216</td><td ><span class="diff_sub">Homie defines a broadcast channel, so a controller is able to broadcast a message to all Homie devices:</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_217">217</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_218">218</td><td ><span class="diff_sub">* `homie` / `$broadcast` / **`level`**: `level` is an arbitrary broadcast identifier.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_219">219</td><td ><span class="diff_sub">It must adhere to the [ID format](#topic-ids).</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_220">220</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_221">221</td><td ><span class="diff_sub">For example, you might want to broadcast an `alert` event with the alert reason as the payload.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_222">222</td><td ><span class="diff_sub">Devices are then free to react or not.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_223">223</td><td ><span class="diff_sub">In our case, every buzzer of your home automation system would start buzzing.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_224">224</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_225">225</td><td ><span class="diff_sub">```java</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_226">226</td><td ><span class="diff_sub">homie/$broadcast/alert ← "Intruder detected"</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_227">227</td><td ><span class="diff_sub">```</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_228">228</td><td ><span class="diff_sub"> </span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_229">229</td><td ><span class="diff_sub">Any other topic is not part of the Homie convention.</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
        </tbody>
    </table>
</div>
</div>
</div>


  
  <footer class="page-footer font-small blue pt-4">
      <div class="footer-copyright text-center py-3">© 2018-2020 -
      Made by IoT enthusiasts for IoT enthusiasts.
      </div>
  </footer>
  
</body>

</html>
