<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="shortcut icon" href="/img/homie-logo.png">
  <link rel="canonical" href="https://homieiot.github.io/specification/spec-core-v3_0_1-diff/">
  <title>The Homie convention</title>
  <link href="https://homieiot.github.io/scss/all.min.css" rel="stylesheet">


    <script type='text/javascript' src="https://homieiot.github.io/js/main.min.js"></script>

  <link rel="prefetch" href="specification/">
  <link rel="prefetch" href="implementations/">
  <link rel="prefetch" href="extensions/">
  <link rel="prefetch" href="get_involved/">
  <link rel="prefetch" href="license/">
</head>

<body>
    <div class="progress d-print-none"></div>
    <header class="text-center" style="margin-top:20px">
    <a href="https://github.com/homieiot/convention" title="homieiot/convention" class="md-source d-print-none" data-md-source="github">
      <div class="md-source__icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 416 448" id="__github">
          <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
                8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
                18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
                19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
                18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
                304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
                2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
                38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
                37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
                82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
                1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
                0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
                30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
                46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
                99.5z"></path>
        </svg>
      </div>
      <div class="md-source__repository">
        homieiot/convention
        <div id="repofacts" class="md-source__facts"></div>
      </div>
    </a>
    <script>
      const el = document.getElementById("repofacts");
      var stargazers_count = sessionStorage.getItem('stargazers_count');
      var forks_count = sessionStorage.getItem('forks_count');
      if (stargazers_count !== null) {
        el.innerText = stargazers_count + " Stars · " + forks_count + " Forks"
      } else {
        const url = "https://api.github.com/repos/homieiot\/convention"
        fetch(url).then(response => response.json()).then(data => {
          if (!(data instanceof Object))
            throw new TypeError
          sessionStorage.setItem('stargazers_count', data.stargazers_count);
          sessionStorage.setItem('forks_count', data.forks_count);
          el.innerText = data.stargazers_count + " Stars · " + data.forks_count + " Forks"
        })
      }
    </script>

    <nav id="mainmenu" class="btn-group d-print-none" role="group" aria-label="Basic example">
      <a href="https://homieiot.github.io/" role="button" class="btn btn-main "
        title="">Overview</a>
      <a href="https://homieiot.github.io/specification/" role="button" class="btn btn-main "
        title="">Specification</a>
      <a href="https://homieiot.github.io/extensions/" role="button" class="btn btn-main "
        title="">Extensions</a>
      <a href="https://homieiot.github.io/implementations/" role="button" class="btn btn-main "
        title="">Implementations</a>
      <a href="https://homieiot.github.io/get_involved/" role="button" class="btn btn-main "
        title="">Get involved</a>
      <a href="https://homieiot.github.io/tools/" role="button" class="btn btn-main "
        title="">Tools</a>
    </nav>
  </header>
  
<div class="container mt-2" id="mainContent">
<div class="row">
<div class="col-12">
    <h1 class="animated fadeIn" style="text-align: center; margin-top:40px; font-size:4em;">
        Changes
    </h1>
    <center class="animated fadeIn mb-4">Changes from
        <a href='/specification/spec-core-v3_0_0/'>v3.0.0</a> to
        <a href='/specification/spec-core-v3_0_1/'>v3.0.1</a></center>

    <h2>Commits</h2>

    
    
    <table>
  <thead>
      <tr>
          <th>Commit title</th>
          <th>Date</th>
          <th>Hash</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Stateful attribute for properties (#108)</td>
          <td>2018-10-27 15:22:20 +0200</td>
          <td>730357e</td>
      </tr>
      <tr>
          <td>Remove regex requirement (#88)</td>
          <td>2018-04-29 14:32:39 +0200</td>
          <td>081214d</td>
      </tr>
      <tr>
          <td>Use &ldquo;true&rdquo; instead of &ldquo;on&rdquo; (#89)</td>
          <td>2018-04-27 14:51:40 +0200</td>
          <td>5cbe5ee</td>
      </tr>
      <tr>
          <td>Add FAQ, discuss getter topic (#87)</td>
          <td>2018-04-27 14:29:27 +0200</td>
          <td>fb8d153</td>
      </tr>
      <tr>
          <td>Add my ESP32 IDF implementation (#73)</td>
          <td>2018-04-23 15:25:24 -0700</td>
          <td>7d9f236</td>
      </tr>
  </tbody>
</table>

    

    <h2>Differences</h2>

    
    <table class="diff" id="difflib_chg_to3__top"
           cellspacing="0" cellpadding="0" rules="groups" >
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
        <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">v3.0.0</th><th class="diff_next"><br /></th><th colspan="2" class="diff_header">v3.0.1</th></tr></thead>
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to3__0"><a href="#difflib_chg_to3__1">n</a></td><td class="diff_header" id="from3_3">3</td><td >version: v3.0.<span class="diff_chg">0</span></td><td class="diff_next"><a href="#difflib_chg_to3__1">n</a></td><td class="diff_header" id="to3_3">3</td><td >version: v3.0.<span class="diff_chg">1</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_4">4</td><td >releasedate: 2<span class="diff_chg">5</span>. <span class="diff_chg">Ma</span>r<span class="diff_sub">ch</span> 2018</td><td class="diff_next"></td><td class="diff_header" id="to3_4">4</td><td >releasedate: 2<span class="diff_chg">7</span>. <span class="diff_chg">Octobe</span>r 2018</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to3__1"><a href="#difflib_chg_to3__2">n</a></td><td class="diff_header"></td><td ></td><td class="diff_next"><a href="#difflib_chg_to3__2">n</a></td><td class="diff_header" id="to3_30">30</td><td ><span class="diff_add">* [FAQ and Rationale](#faq)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_31">31</td><td ><span class="diff_add"> </span></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to3__2"><a href="#difflib_chg_to3__3">n</a></td><td class="diff_header"></td><td ></td><td class="diff_next"><a href="#difflib_chg_to3__3">n</a></td><td class="diff_header" id="to3_97">97</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_98">98</td><td ><span class="diff_add">Properties can be **retained**.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_99">99</td><td ><span class="diff_add">A property is retained by default. A non-retained property would be useful for momentary events (door bell pressed).</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_100">100</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_101">101</td><td ><span class="diff_add">A combination of those flags compiles into this list:</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_102">102</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_103">103</td><td ><span class="diff_add">* **retained + non-settable**: The node publishes a property state (temperature sensor)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_104">104</td><td ><span class="diff_add">* **retained + settable**: The node publishes a property state, and can receive commands for the property (by controller or other party) (lamp power)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_105">105</td><td ><span class="diff_add">* **non-retained + non-settable**: The node publishes momentary events (door bell pressed)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_106">106</td><td ><span class="diff_add">* **non-retained + settable**: The node publishes momentary events, and can receive commands for the property (by controller or other party) (brew coffee)</span></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to3__3"><a href="#difflib_chg_to3__4">n</a></td><td class="diff_header"></td><td ></td><td class="diff_next"><a href="#difflib_chg_to3__4">n</a></td><td class="diff_header" id="to3_446">446</td><td ><span class="diff_add">    &lt;/tr&gt;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_447">447</td><td ><span class="diff_add">    &lt;tr&gt;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_448">448</td><td ><span class="diff_add">        &lt;td&gt;$retained&lt;/td&gt;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_449">449</td><td ><span class="diff_add">        &lt;td&gt;Device → Controller&lt;/td&gt;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_450">450</td><td ><span class="diff_add">        &lt;td&gt;Specifies whether the property is retained (&lt;code&gt;true&lt;/code&gt;) or non-retained (&lt;code&gt;false&lt;/code&gt;). Publishing to a non-retained property topic MUST always happen with the MQTT 'retain' flag off.&lt;/td&gt;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_451">451</td><td ><span class="diff_add">        &lt;td&gt;&lt;code&gt;true&lt;/code&gt; or &lt;code&gt;false&lt;/code&gt;&lt;/td&gt;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_452">452</td><td ><span class="diff_add">        &lt;td&gt;Yes&lt;/td&gt;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_453">453</td><td ><span class="diff_add">        &lt;td&gt;No (&lt;code&gt;true&lt;/code&gt;)&lt;/td&gt;</span></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to3__4"><a href="#difflib_chg_to3__5">n</a></td><td class="diff_header" id="from3_495">495</td><td ><span class="diff_sub">             &lt;code&gt;regex:pattern&lt;/code&gt; to provide a regex that can be used to match the value. e.g. &lt;code&gt;regex:[A-Z][0-9]+&lt;/code&gt;.</span></td><td class="diff_next"><a href="#difflib_chg_to3__5">n</a></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_496">496</td><td ><span class="diff_sub">             &lt;br&gt;Valid for datatype &lt;code&gt;string&lt;/code&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_497">497</td><td ><span class="diff_sub">           &lt;/li&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from3_498">498</td><td ><span class="diff_sub">           &lt;li&gt;</span></td><td class="diff_next"></td><td class="diff_header"></td><td ></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to3__5"><a href="#difflib_chg_to3__6">n</a></td><td class="diff_header" id="from3_506">506</td><td ><span class="diff_sub">       &lt;td&gt;Depends on $datatype&lt;/td&gt;</span></td><td class="diff_next"><a href="#difflib_chg_to3__6">n</a></td><td class="diff_header" id="to3_522">522</td><td ><span class="diff_add">       &lt;td&gt;No for $datatype &lt;code&gt;string&lt;/code&gt;,&lt;code&gt;integer&lt;/code&gt;,&lt;code&gt;float&lt;/code&gt;,&lt;code&gt;boolean&lt;/code&gt;. Yes for &lt;code&gt;enum&lt;/code&gt;,&lt;code&gt;color&lt;/code&gt;&lt;/td&gt;</span></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to3__6"><a href="#difflib_chg_to3__7">n</a></td><td class="diff_header" id="from3_530">530</td><td >homie/kitchen-light/light/power/set ← "<span class="diff_chg">on</span>"</td><td class="diff_next"><a href="#difflib_chg_to3__7">n</a></td><td class="diff_header" id="to3_546">546</td><td >homie/kitchen-light/light/power/set ← "<span class="diff_chg">true</span>"</td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to3__7"><a href="#difflib_chg_to3__8">n</a></td><td class="diff_header"></td><td ></td><td class="diff_next"><a href="#difflib_chg_to3__8">n</a></td><td class="diff_header" id="to3_601">601</td><td ><span class="diff_add">----</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_602">602</td><td ><span class="diff_add">----</span></td></tr>
        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to3__8"><a href="#difflib_chg_to3__top">t</a></td><td class="diff_header"></td><td ></td><td class="diff_next"><a href="#difflib_chg_to3__top">t</a></td><td class="diff_header" id="to3_604">604</td><td ><span class="diff_add">## FAQ</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_605">605</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_606">606</td><td ><span class="diff_add">In this section frequently asked questions will be answered.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_607">607</td><td ><span class="diff_add">This includes design decisions and drawn compromises in the specifics of the Homie convention.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_608">608</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_609">609</td><td ><span class="diff_add">### How do I query/request a property?</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_610">610</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_611">611</td><td ><span class="diff_add">You don't.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_612">612</td><td ><span class="diff_add">The MQTT protocol does not implement the request-reply but rather the publish-subscribe messaging pattern.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_613">613</td><td ><span class="diff_add">The Homie convention follows the publish-subscribe principle by publishing data as retained messages on a regular basis.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_614">614</td><td ><span class="diff_add">You might want to rethink the design of your application - in most scenarios a regularly updated information is sufficient.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_615">615</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_616">616</td><td ><span class="diff_add">*Workaround:* You are free to implement your own ideas on top of the basic structure of the Homie convention.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_617">617</td><td ><span class="diff_add">You could either implement a `get` getter topic and its logic to trigger a value update, or you may exploit the concept of Homie properties and define a settable property to trigger a value update.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_618">618</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_619">619</td><td ><span class="diff_add">A discussion on the matter can be found in issue [#79](https://github.com/homieiot/convention/issues/79).</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_620">620</td><td ><span class="diff_add"> </span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header"></td><td ></td><td class="diff_next"></td><td class="diff_header" id="to3_621">621</td><td ><span class="diff_add"> </span></td></tr>
        </tbody>
    </table>
</div>
</div>
</div>


  
  <footer class="page-footer font-small blue pt-4">
      <div class="footer-copyright text-center py-3">© 2018-2025 -
      Made by IoT enthusiasts for IoT enthusiasts.
      </div>
  </footer>
  
</body>

</html>
